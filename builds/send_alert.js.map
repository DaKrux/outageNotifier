{"version":3,"sources":["../src/send_alert.js"],"names":["sns","AWS","SNS","sendMessage","message","length","topic","publish","Message","JSON","stringify","TopicArn","promise"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,IAAIC,gBAAIC,GAAR,EAAZ;;AAEO,eAAeC,WAAf,CAA2BC,OAA3B,EAAoC;AAEzC,MAAIA,OAAO,CAACC,MAAR,KAAmB,CAAvB,EACE;AAEF,QAAMC,KAAK,GAAG,MAAM,oBAAU,0BAAV,CAApB;AAEA,QAAMN,GAAG,CAACO,OAAJ,CAAY;AAACC,IAAAA,OAAO,EAAEC,IAAI,CAACC,SAAL,CAAeN,OAAf,CAAV;AAAmCO,IAAAA,QAAQ,EAAEL;AAA7C,GAAZ,EAAiEM,OAAjE,EAAN;AAED","sourcesContent":["import AWS from 'aws-sdk'\nimport {getSecret} from './lib/ssm'\n\nconst sns = new AWS.SNS()\n\nexport async function sendMessage(message) {\n\n  if (message.length === 0)\n    return\n\n  const topic = await getSecret('/outage/telstra/snstopic')\n\n  await sns.publish({Message: JSON.stringify(message), TopicArn: topic}).promise()\n\n}\n\n"],"file":"send_alert.js"}